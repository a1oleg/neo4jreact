{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _driver = require(\"./driver\");\n\nvar _error = require(\"./error\");\n\nvar _connectionProviderRouting = _interopRequireDefault(require(\"./internal/connection-provider-routing\"));\n\nvar _leastConnectedLoadBalancingStrategy = _interopRequireDefault(require(\"./internal/least-connected-load-balancing-strategy\"));\n\nvar _connectionErrorHandler = _interopRequireDefault(require(\"./internal/connection-error-handler\"));\n\nvar _configuredCustomResolver = _interopRequireDefault(require(\"./internal/resolver/configured-custom-resolver\"));\n/**\r\n * Copyright (c) 2002-2020 \"Neo4j,\"\r\n * Neo4j Sweden AB [http://neo4j.com]\r\n *\r\n * This file is part of Neo4j.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * A driver that supports routing in a causal cluster.\r\n * @private\r\n */\n\n\nvar RoutingDriver = /*#__PURE__*/function (_Driver) {\n  (0, _inherits2[\"default\"])(RoutingDriver, _Driver);\n\n  function RoutingDriver(address, routingContext, userAgent) {\n    var _this;\n\n    var token = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var config = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    (0, _classCallCheck2[\"default\"])(this, RoutingDriver);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(RoutingDriver).call(this, address, userAgent, token, validateConfig(config)));\n    _this._routingContext = routingContext;\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(RoutingDriver, [{\n    key: \"_afterConstruction\",\n    value: function _afterConstruction() {\n      this._log.info(\"Routing driver \".concat(this._id, \" created for server address \").concat(this._address));\n    }\n  }, {\n    key: \"_createConnectionProvider\",\n    value: function _createConnectionProvider(address, userAgent, authToken) {\n      return new _connectionProviderRouting[\"default\"]({\n        id: this._id,\n        address: address,\n        routingContext: this._routingContext,\n        hostNameResolver: createHostNameResolver(this._config),\n        config: this._config,\n        log: this._log,\n        userAgent: userAgent,\n        authToken: authToken\n      });\n    }\n  }, {\n    key: \"_supportsRouting\",\n    value: function _supportsRouting() {\n      return true;\n    }\n  }]);\n  return RoutingDriver;\n}(_driver.Driver);\n/**\r\n * @private\r\n * @returns {ConfiguredCustomResolver} new custom resolver that wraps the passed-in resolver function.\r\n *              If resolved function is not specified, it defaults to an identity resolver.\r\n */\n\n\nfunction createHostNameResolver(config) {\n  return new _configuredCustomResolver[\"default\"](config.resolver);\n}\n/**\r\n * @private\r\n * @returns {Object} the given config.\r\n */\n\n\nfunction validateConfig(config) {\n  var resolver = config.resolver;\n\n  if (resolver && typeof resolver !== 'function') {\n    throw new TypeError(\"Configured resolver should be a function. Got: \".concat(resolver));\n  }\n\n  return config;\n}\n\nvar _default = RoutingDriver;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["C:/Users/a1ole/Documents/GitHub/neo4jreact/node_modules/neo4j-driver/lib/routing-driver.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_driver","_error","_connectionProviderRouting","_leastConnectedLoadBalancingStrategy","_connectionErrorHandler","_configuredCustomResolver","RoutingDriver","_Driver","address","routingContext","userAgent","_this","token","arguments","length","undefined","config","call","validateConfig","_routingContext","key","_afterConstruction","_log","info","concat","_id","_address","_createConnectionProvider","authToken","id","hostNameResolver","createHostNameResolver","_config","log","_supportsRouting","Driver","resolver","TypeError","_default"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = void 0;\r\n\r\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\r\n\r\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\r\n\r\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\r\n\r\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\r\n\r\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\r\n\r\nvar _driver = require(\"./driver\");\r\n\r\nvar _error = require(\"./error\");\r\n\r\nvar _connectionProviderRouting = _interopRequireDefault(require(\"./internal/connection-provider-routing\"));\r\n\r\nvar _leastConnectedLoadBalancingStrategy = _interopRequireDefault(require(\"./internal/least-connected-load-balancing-strategy\"));\r\n\r\nvar _connectionErrorHandler = _interopRequireDefault(require(\"./internal/connection-error-handler\"));\r\n\r\nvar _configuredCustomResolver = _interopRequireDefault(require(\"./internal/resolver/configured-custom-resolver\"));\r\n\r\n/**\r\n * Copyright (c) 2002-2020 \"Neo4j,\"\r\n * Neo4j Sweden AB [http://neo4j.com]\r\n *\r\n * This file is part of Neo4j.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * A driver that supports routing in a causal cluster.\r\n * @private\r\n */\r\nvar RoutingDriver =\r\n/*#__PURE__*/\r\nfunction (_Driver) {\r\n  (0, _inherits2[\"default\"])(RoutingDriver, _Driver);\r\n\r\n  function RoutingDriver(address, routingContext, userAgent) {\r\n    var _this;\r\n\r\n    var token = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\r\n    var config = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\r\n    (0, _classCallCheck2[\"default\"])(this, RoutingDriver);\r\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(RoutingDriver).call(this, address, userAgent, token, validateConfig(config)));\r\n    _this._routingContext = routingContext;\r\n    return _this;\r\n  }\r\n\r\n  (0, _createClass2[\"default\"])(RoutingDriver, [{\r\n    key: \"_afterConstruction\",\r\n    value: function _afterConstruction() {\r\n      this._log.info(\"Routing driver \".concat(this._id, \" created for server address \").concat(this._address));\r\n    }\r\n  }, {\r\n    key: \"_createConnectionProvider\",\r\n    value: function _createConnectionProvider(address, userAgent, authToken) {\r\n      return new _connectionProviderRouting[\"default\"]({\r\n        id: this._id,\r\n        address: address,\r\n        routingContext: this._routingContext,\r\n        hostNameResolver: createHostNameResolver(this._config),\r\n        config: this._config,\r\n        log: this._log,\r\n        userAgent: userAgent,\r\n        authToken: authToken\r\n      });\r\n    }\r\n  }, {\r\n    key: \"_supportsRouting\",\r\n    value: function _supportsRouting() {\r\n      return true;\r\n    }\r\n  }]);\r\n  return RoutingDriver;\r\n}(_driver.Driver);\r\n/**\r\n * @private\r\n * @returns {ConfiguredCustomResolver} new custom resolver that wraps the passed-in resolver function.\r\n *              If resolved function is not specified, it defaults to an identity resolver.\r\n */\r\n\r\n\r\nfunction createHostNameResolver(config) {\r\n  return new _configuredCustomResolver[\"default\"](config.resolver);\r\n}\r\n/**\r\n * @private\r\n * @returns {Object} the given config.\r\n */\r\n\r\n\r\nfunction validateConfig(config) {\r\n  var resolver = config.resolver;\r\n\r\n  if (resolver && typeof resolver !== 'function') {\r\n    throw new TypeError(\"Configured resolver should be a function. Got: \".concat(resolver));\r\n  }\r\n\r\n  return config;\r\n}\r\n\r\nvar _default = RoutingDriver;\r\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}